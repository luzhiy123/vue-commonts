!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("hztl-ui/lib/utils/validate"),require("hztl-ui/lib/packages/input"),require("hztl-ui/lib/utils/date-util"),require("hztl-ui/lib/packages/resize-box"),require("hztl-ui/lib/utils/priceUppercase")):"function"==typeof define&&define.amd?define("hztl-ui",["hztl-ui/lib/utils/validate","hztl-ui/lib/packages/input","hztl-ui/lib/utils/date-util","hztl-ui/lib/packages/resize-box","hztl-ui/lib/utils/priceUppercase"],t):"object"==typeof exports?exports["hztl-ui"]=t(require("hztl-ui/lib/utils/validate"),require("hztl-ui/lib/packages/input"),require("hztl-ui/lib/utils/date-util"),require("hztl-ui/lib/packages/resize-box"),require("hztl-ui/lib/utils/priceUppercase")):e["hztl-ui"]=t(e["hztl-ui/lib/utils/validate"],e["hztl-ui/lib/packages/input"],e["hztl-ui/lib/utils/date-util"],e["hztl-ui/lib/packages/resize-box"],e["hztl-ui/lib/utils/priceUppercase"])}(window,(function(e,t,i,a,s){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=22)}([function(e,t){e.exports=require("vuex")},function(e,t){e.exports=require("element-ui/lib/mixins/emitter")},function(e,t){e.exports=require("throttle-debounce/debounce")},function(e,t){e.exports=require("vue")},function(e,t){e.exports=require("@vue/babel-helper-vue-jsx-merge-props")},function(e,t){e.exports=require("vuedraggable")},function(t,i){t.exports=e},function(e,t){e.exports=require("element-ui/lib/mixins/migrating")},function(e,i){e.exports=t},function(e,t){e.exports=i},function(e,t){e.exports=require("element-ui")},function(e,t){e.exports=require("element-ui/lib/utils/merge")},function(e,t){e.exports=require("element-ui/lib/utils/shared")},function(e,t){e.exports=require("element-ui/lib/utils/clickoutside")},function(e,t){e.exports=require("element-ui/lib/utils/util")},function(e,t){e.exports=require("element-ui/lib/mixins/focus")},function(e,t){e.exports=require("element-ui/lib/utils/vue-popper")},function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t,i){(function(e){function i(e,t){for(var i=0,a=e.length-1;a>=0;a--){var s=e[a];"."===s?e.splice(a,1):".."===s?(e.splice(a,1),i++):i&&(e.splice(a,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function a(e,t){if(e.filter)return e.filter(t);for(var i=[],a=0;a<e.length;a++)t(e[a],a,e)&&i.push(e[a]);return i}t.resolve=function(){for(var t="",s=!1,n=arguments.length-1;n>=-1&&!s;n--){var o=n>=0?arguments[n]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,s="/"===o.charAt(0))}return(s?"/":"")+(t=i(a(t.split("/"),(function(e){return!!e})),!s).join("/"))||"."},t.normalize=function(e){var n=t.isAbsolute(e),o="/"===s(e,-1);return(e=i(a(e.split("/"),(function(e){return!!e})),!n).join("/"))||n||(e="."),e&&o&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(a(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function a(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var s=a(e.split("/")),n=a(i.split("/")),o=Math.min(s.length,n.length),r=o,l=0;l<o;l++)if(s[l]!==n[l]){r=l;break}var u=[];for(l=r;l<s.length;l++)u.push("..");return(u=u.concat(n.slice(r))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,a=-1,s=!0,n=e.length-1;n>=1;--n)if(47===(t=e.charCodeAt(n))){if(!s){a=n;break}}else s=!1;return-1===a?i?"/":".":i&&1===a?"/":e.slice(0,a)},t.basename=function(e,t){var i=function(e){"string"!=typeof e&&(e+="");var t,i=0,a=-1,s=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!s){i=t+1;break}}else-1===a&&(s=!1,a=t+1);return-1===a?"":e.slice(i,a)}(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,i=0,a=-1,s=!0,n=0,o=e.length-1;o>=0;--o){var r=e.charCodeAt(o);if(47!==r)-1===a&&(s=!1,a=o+1),46===r?-1===t?t=o:1!==n&&(n=1):-1!==t&&(n=-1);else if(!s){i=o+1;break}}return-1===t||-1===a||0===n||1===n&&t===a-1&&t===i+1?"":e.slice(t,a)};var s="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i(20))},function(e,t){var i,a,s=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(i===setTimeout)return setTimeout(e,0);if((i===n||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:n}catch(e){i=n}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(e){a=o}}();var l,u=[],c=!1,p=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&d())}function d(){if(!c){var e=r(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new m(e,t)),1!==u.length||c||r(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t){e.exports=require("element-ui/lib/theme-chalk/index.css")},function(e,t,i){"use strict";i.r(t);var a=i(10),s=i.n(a),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?i("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange,"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputEnter(t)}}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?i("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?i("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?i("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?i("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?i("span",{staticClass:"el-input__count"},[i("span",{staticClass:"el-input__count-inner"},[e._v("\n                        "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n                    ")])]):e._e()],2),e.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?i("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:i("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputEnter(t)},focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?i("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)};n._withStripped=!0;var o=i(1),r=i.n(o),l=i(7),u=i.n(l);let c;const p=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function h(e,t=1,i=null){c||(c=document.createElement("textarea"),document.body.appendChild(c));const{paddingSize:a,borderSize:s,boxSizing:n,contextStyle:o}=function(e){const t=window.getComputedStyle(e),i=t.getPropertyValue("box-sizing"),a=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),s=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:p.map(e=>`${e}:${t.getPropertyValue(e)}`).join(";"),paddingSize:a,borderSize:s,boxSizing:i}}(e);c.setAttribute("style",`${o};\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n`),c.value=e.value||e.placeholder||"";let r=c.scrollHeight;const l={};"border-box"===n?r+=s:"content-box"===n&&(r-=a),c.value="";const u=c.scrollHeight-a;if(null!==t){let e=u*t;"border-box"===n&&(e=e+a+s),r=Math.max(e,r),l.minHeight=`${e}px`}if(null!==i){let e=u*i;"border-box"===n&&(e=e+a+s),r=Math.min(e,r)}return l.height=`${r}px`,c.parentNode&&c.parentNode.removeChild(c),c=null,l}var d=i(11),m=i.n(d),g=i(12);function f(e,t,i,a,s,n,o,r){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=i,u._compiled=!0),a&&(u.functional=!0),n&&(u._scopeId="data-v-"+n),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=l):s&&(l=r?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:u}}var v=f({name:"HtInput",componentName:"HtInput",mixins:[r.a,u.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:()=>!0},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},data:()=>({textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}),computed:{_elFormItemSize(){return(this.elFormItem||{}).elFormItemSize},validateState(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon(){return!!this.elForm&&this.elForm.statusIcon},validateIcon(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle(){return m()({},this.textareaCalcStyle,{resize:this.resize})},inputSize(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},showClear(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit(){return this.$attrs.maxlength},textLength(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed(){return this.isWordLimitVisible&&this.textLength>this.upperLimit},inputRef(){return"textarea"===this.type?this.$refs.textarea:this.$refs.input}},watch:{value(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue(){this.setNativeInputValue()},type(){this.$nextTick(()=>{this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()})}},created(){this.$on("inputSelect",this.select)},mounted(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset(),this.inputRef.composing=!1},updated(){this.$nextTick(this.updateIconOffset)},methods:{handleInputEnter(e){this.isComposing||this.$emit("intput-enter",e)},focus(){this.getInput().focus()},blur(){this.getInput().blur()},getMigratingConfig:()=>({props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}),handleBlur(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select(){this.getInput().select()},resizeTextarea(){if(this.$isServer)return;const{autosize:e,type:t}=this;if("textarea"!==t)return;if(!e)return void(this.textareaCalcStyle={minHeight:h(this.$refs.textarea).minHeight});const i=e.minRows,a=e.maxRows;this.textareaCalcStyle=h(this.$refs.textarea,i,a)},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus(e){this.focused=!0,this.$emit("focus",e),e.target.select()},handleCompositionStart(){this.isComposing=this.inputRef.composing=!0},handleCompositionUpdate(e){const t=e.target.value,i=t[t.length-1]||"";this.isComposing=!Object(g.isKorean)(i)},handleCompositionEnd(e){this.isComposing&&(this.isComposing=this.inputRef.composing=!1,this.handleInput(e))},handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange(e){this.$emit("change",e.target.value)},calcIconOffset(e){const t=[].slice.call(this.$el.querySelectorAll(`.el-input__${e}`)||[]);if(!t.length)return;let i=null;for(let e=0;e<t.length;e++)if(t[e].parentNode===this.$el){i=t[e];break}if(!i)return;const a={suffix:"append",prefix:"prepend"}[e];this.$slots[a]?i.style.transform=`translateX(${"suffix"===e?"-":""}${this.$el.querySelector(`.el-input-group__${a}`).offsetWidth}px)`:i.removeAttribute("style")},updateIconOffset(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput(){return this.$refs.input||this.$refs.textarea},getSuffixVisible(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}}},n,[],!1,null,null,null);v.options.__file="packages/input/src/input.vue";var b=v.exports;b.install=function(e){e.component(b.name,b)};var y=b,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.close,expression:"close"}],staticClass:"el-autocomplete ht-autocomplete",attrs:{"aria-expanded":e.suggestionVisible,"aria-owns":e.id,"aria-haspopup":"listbox",role:"combobox"}},[i("ht-input",e._b({ref:"input",on:{change:e.handleChange,input:e.handleInputChange,focus:e.handleFocus,blur:e.handleBlur,clear:e.handleClear},nativeOn:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(i=t,e.highlight(e.highlightedIndex-1,i));var i},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(i=t,e.highlight(e.highlightedIndex+1,i));var i},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleKeyEnter(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.close(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.activated=!1}]}},"ht-input",[e.$props,e.$attrs],!1),[e.$slots.prepend?i("template",{slot:"prepend"},[e._t("prepend")],2):e._e(),e.$slots.append?i("template",{slot:"append"},[e._t("append")],2):e._e(),e.$slots.prefix?i("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),e.showSuffix?i("template",{slot:"suffix"},[e._t("suffix",[i("i",{class:["ht-arrow-icon","el-input__icon","el-icon-arrow-down",{"is-reverse":e.activated}],on:{click:e.handleClickSuffix}})])],2):e._e()],2),i("ht-autocomplete-suggestions",{ref:"suggestions",class:[e.popperClass?e.popperClass:""],attrs:{id:e.id,"popper-options":e.popperOptions,"append-to-body":e.popperAppendToBody,placement:e.placement,"visible-arrow":""}},e._l(e.suggestions,(function(t,a){return i("li",{key:a,class:{highlighted:e.highlightedIndex===a},attrs:{id:e.id+"-item-"+a,"aria-selected":e.highlightedIndex===a,role:"option"},on:{click:function(i){return e.select(t)}}},[e._t("default",[e._v("\n                "+e._s(t[e.valueKey])+"\n            ")],{item:t})],2)})),0)],1)};x._withStripped=!0;var w=i(2),_=i.n(w),S=i(13),T=i.n(S),C=i(14),$=i(15),k=i.n($),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-autocomplete-suggestion el-popper",class:{"is-loading":!e.parent.hideLoading&&e.parent.loading},style:{width:e.dropdownWidth},attrs:{role:"region"}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:!e.parent.isShowEmptyText,expression:"!parent.isShowEmptyText"}],attrs:{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"}},[!e.parent.hideLoading&&e.parent.loading?i("li",[i("i",{staticClass:"el-icon-loading"})]):e._t("default")],2),e.parent.isShowEmptyText?[e._t("empty",[i("p",{staticClass:"el-select-dropdown__empty"},[e._v("\n                    "+e._s(e.parent.emptyText)+"\n                ")])])]:e._e()],2)])};D._withStripped=!0;var I=i(16),F=f({mixins:[i.n(I).a,r.a],componentName:"ElAutocompleteSuggestions",props:{options:{type:Object,default:()=>({gpuAcceleration:!1})},id:String},data(){return{parent:this.$parent,dropdownWidth:""}},updated(){this.$nextTick(()=>{this.popperJS&&this.updatePopper()})},mounted(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$refs.input.$refs.input,this.referenceList=this.$el.querySelector(".el-autocomplete-suggestion__list"),this.referenceList.setAttribute("role","listbox"),this.referenceList.setAttribute("id",this.id)},created(){this.$on("visible",(e,t)=>{this.dropdownWidth=t+"px",this.showPopper=e})},methods:{select(e){this.dispatch("ElAutocomplete","item-click",e)}}},D,[],!1,null,null,null);F.options.__file="packages/autocomplete/src/autocomplete-suggestions.vue";var B=F.exports,E=i(8),z=i.n(E),O=f({name:"HtAutocomplete",components:{HtAutocompleteSuggestions:B,HtInput:z.a},directives:{Clickoutside:T.a},inject:{elForm:{default:""},elFormItem:{default:""}},mixins:[r.a,k()("input"),u.a],inheritAttrs:!1,componentName:"HtAutocomplete",props:{valueKey:{type:String,default:"value"},popperClass:String,popperOptions:Object,placeholder:String,clearable:{type:Boolean,default:!1},disabled:Boolean,name:String,size:String,value:[String,Number],maxlength:Number,minlength:Number,autofocus:Boolean,fetchSuggestions:Function,triggerOnFocus:{type:Boolean,default:!0},customItem:String,selectWhenUnmatched:{type:Boolean,default:!1},debounce:{type:Number,default:300},placement:{type:String,default:"bottom-start"},hideLoading:Boolean,popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1},showSuffix:{type:Boolean,default:!0},popperWidth:Number,noDataText:String,noMatchText:String},data:()=>({activated:!1,isFocus:!1,suggestions:[],loading:!1,highlightedIndex:-1,suggestionDisabled:!1}),computed:{isValidData(){const e=this.suggestions;return Array.isArray(e)&&e.length>0},isShowEmptyText(){return this.highlightedIndex>=0&&!this.isValidData&&this.value&&this.emptyText&&this.isFocus},emptyText(){return this.noDataText||this.noMatchText},suggestionVisible(){return(this.isValidData||this.loading||this.isShowEmptyText)&&this.activated},id:()=>`el-autocomplete-${Object(C.generateId)()}`,inputRef(){return this.$refs.input}},watch:{suggestionVisible(e){const t=this.getInput();t&&this.broadcast("ElAutocompleteSuggestions","visible",[e,this.popperWidth||t.offsetWidth])}},mounted(){this.debouncedGetData=_()(this.debounce,this.getData),this.$on("item-click",e=>{this.select(e)});const e=this.getInput();e.setAttribute("role","textbox"),e.setAttribute("aria-autocomplete","list"),e.setAttribute("aria-controls","id"),e.setAttribute("aria-activedescendant",`${this.id}-item-${this.highlightedIndex}`)},beforeDestroy(){this.$refs.suggestions.$destroy()},methods:{getMigratingConfig:()=>({props:{"custom-item":"custom-item is removed, use scoped slot instead.",props:"props is removed, use value-key instead."}}),getData(e){this.suggestionDisabled||(this.loading=!0,this.fetchSuggestions(e&&e.replace(/(^\s*)|(\s*$)/g,""),e=>{this.loading=!1,this.suggestionDisabled||(Array.isArray(e)?(this.suggestions=e,this.highlightedIndex=this.highlightFirstItem?0:-1):console.error("[Element Error][Autocomplete]autocomplete suggestions must be an array"))}))},handleChange(...e){this.$emit("change",...e)},handleInputChange(e){if(this.$emit("input",e),this.activated=!0,this.suggestionDisabled=!1,!this.triggerOnFocus&&!e)return this.suggestionDisabled=!0,void(this.suggestions=[]);this.debouncedGetData(e)},handleFocus(e){this.$emit("focus",e),this.isFocus=!0,this.triggerOnFocus&&(this.activated=!0,this.debouncedGetData(this.value))},handleClickSuffix(){this.disabled||this.elForm&&this.elForm.disabled||(this.activated=!this.activated,this.suggestionDisabled=!1,this.activated&&(this.focus(),this.debouncedGetData()))},handleBlur(e){this.$emit("blur",e),this.isFocus=!1},handleClear(){this.activated=!1,this.$emit("clear")},close(){this.activated=!1},handleKeyEnter(e){this.suggestionVisible&&this.highlightedIndex>=0&&this.highlightedIndex<this.suggestions.length?(e.preventDefault(),this.select(this.suggestions[this.highlightedIndex])):this.selectWhenUnmatched?(this.$emit("select",{value:this.value}),this.$emit("change",this.value),this.$nextTick(()=>{this.suggestions=[],this.highlightedIndex=-1,this.inputRef.isComposing||this.$emit("intput-enter",e)})):this.suggestionVisible&&!this.isShowEmptyText||this.inputRef.isComposing||this.$emit("intput-enter",e)},select(e){this.$emit("input",e[this.valueKey]),this.$emit("select",e),this.$emit("change",e[this.valueKey]),this.$nextTick(()=>{this.suggestions=[],this.highlightedIndex=-1,this.activated=!1,this.focus()})},highlight(e,t){if(!this.suggestionVisible||this.isShowEmptyText)return;if(t.stopPropagation(),this.loading)return;if(e<0)return void(this.highlightedIndex=-1);e>=this.suggestions.length&&(e=this.suggestions.length-1);const i=this.$refs.suggestions.$el.querySelector(".el-autocomplete-suggestion__wrap"),a=i.querySelectorAll(".el-autocomplete-suggestion__list li")[e],s=i.scrollTop,n=a.offsetTop;n+a.scrollHeight>s+i.clientHeight&&(i.scrollTop+=a.scrollHeight),n<s&&(i.scrollTop-=a.scrollHeight),this.highlightedIndex=e,this.getInput().setAttribute("aria-activedescendant",`${this.id}-item-${this.highlightedIndex}`)},getInput(){return this.$refs.input.getInput()}}},x,[],!1,null,null,null);O.options.__file="packages/autocomplete/src/autocomplete.vue";var A=O.exports;A.install=function(e){e.component(A.name,A)};var j=A,N=i(0),H=i.n(N),q=i(5),V=i.n(q),P=i(3),L=i.n(P);const M={showSample:!0,typeEmun:{},invoice:{name:"",type:"",id:""},baseHeaders:[],baseBodys:[],temDataSource:{templateHeader:[],templateBody:[],templateFooter:[]},dataSource:{}};const W={async initStoreData({commit:e},t){const{typeEmun:i,baseFiles:a,temData:s,showSample:n,invoiceData:o}=t;await e("setShowSample",n),await e("setTypeEmun",i),await e("setBaseFiles",a),await e("setTemDataSource",s),await e("setDataSource",o)}},R={templateHeader:e=>e.temDataSource.templateHeader.map(t=>e.baseHeaders.find(e=>e.name===t.name)||null).filter(e=>e),templateFooter:e=>e.temDataSource.templateFooter.map(t=>e.baseHeaders.find(e=>e.name===t.name)||null).filter(e=>e),templateBody:e=>e.temDataSource.templateBody.map(t=>({...t,content:t.content.map(i=>{let a;return e.baseBodys.forEach(e=>{a||e.soureFile===t.soureFile&&e.content.forEach(e=>{e.name===i.name&&(a=e)})}),a?{...a,width:i.width||100}:null}).filter(e=>e)})),altHeaderFiles:(e,t)=>e.baseHeaders.filter(e=>![...t.templateHeader,...t.templateFooter].find(t=>t.name===e.name)),altBodyFiles:(e,t)=>e.baseBodys.map(e=>({...e,content:e.content.filter(i=>{const a=t.templateBody.find(t=>t.soureFile===e.soureFile);return a&&!a.content.find(e=>e.name===i.name)})})),headerData(e){if(e.showSample){const t={printCount:0,companyName:"[公司名称]"};return e.baseHeaders.forEach(e=>{t[e.file]=e.sampleData||e.name}),t}return e.dataSource.header},bodysData(e){if(e.showSample){let t={};return e.baseBodys.forEach(e=>{t[e.soureFile]=[{}],e.content.forEach(i=>{t[e.soureFile][0][i.file]=i.sampleData||i.name})}),t}return e.dataSource}},U={setTypeEmun(e,t){e.typeEmun=t},setBaseFiles(e,t){if(t&&t.baseHeaders&&t.baseBodys){e.baseHeaders=t.baseHeaders.map(e=>({...e,width:e.width||1}));const i=t.baseBodys&&t.baseBodys[0];i&&i.soureFile?e.baseBodys=t.baseBodys:e.baseBodys=[{tableName:"",soureFile:"details",content:t.baseBodys||[]}]}else console.error("baseFiles 参数缺失",t),e.baseHeaders=[],e.baseBodys=[{tableName:"",soureFile:"details",content:[]}]},setTemDataSource(e,t){e.invoice={name:t.name,type:t.type,id:t.id};const i=t.content?JSON.parse(t.content):{},a=i.templateBody&&i.templateBody[0];e.temDataSource={templateHeader:[],templateFooter:[],...i,templateBody:a&&a.soureFile?i.templateBody:e.baseBodys.map(e=>({...e,content:i.templateBody||[]}))}},setShowSample(e,t=!0){e.showSample=t},setDataSource(e,t){e.dataSource=t||{}}},G={...U,changeInvoiceName(e,t){e.invoice.name=t},changeTemplateHeader(e,t){e.temDataSource={...e.temDataSource,templateHeader:t}},changeTemplateBody(e,t){e.temDataSource.templateBody=t},changeTemplateFooter(e,t){e.temDataSource.templateFooter=t}},K={...U},X={state:function(){return{type:"edit",...M}},actions:W,getters:R,mutations:G},J={state:function(){return{type:"tem",...M}},actions:W,getters:R,mutations:K};L.a.use(H.a);var Q=i(9),Y=f({props:{showSample:Boolean},data:()=>({curDate:new Date}),computed:{...Object(N.mapState)(["invoice","typeEmun"]),...Object(N.mapGetters)(["headerData"])},render(){const e=arguments[0];return e("div",{class:"ht-invoice-page-header"},[this.showSample?e("div",{class:"company-logo ht-invoice-sample-class"},["[公司徽章]"]):e("img",{class:"company-logo",attrs:{src:this.headerData.companyEmblem,alt:""}}),e("span",{class:"page-header-tip"},[e("span",{class:"title"},["打印时间："]),e("span",{class:`${this.showSample?"ht-invoice-sample-class":""}`},[Object(Q.dateFormatFull)(this.curDate),"（",this.headerData.printCount,")"])]),e("div",{class:`page-header-title ${this.showSample?"ht-invoice-sample-class":""}`},[this.headerData.companyName,this.typeEmun[this.invoice.type]])])}},void 0,void 0,!1,null,null,null);Y.options.__file="packages/custom-invoice/src/components/invoice-page-header.vue";var Z=Y.exports;const ee={1:"一",2:"二",3:"三"};var te=f({render(){const e=arguments[0];return e("div",{class:"ht-invoice-page-footer"},[e("div",{class:"print-copy-right"},["思锐软件 （010）60219478/60219479"])])}},void 0,void 0,!1,null,null,null);te.options.__file="packages/custom-invoice/src/components/invoice-page-footer.vue";var ie=te.exports,ae=i(4),se=i.n(ae),ne=f({components:{Draggable:V.a},props:{list:{type:Array,required:!0}},methods:{changeHandle(){this.$emit("change",this.list)}},render(){const e=arguments[0];return e("div",{class:"ht-alternative-files"},[e(V.a,se()([{class:"ht-invoice-draggable-group"},{attrs:this.$attrs},{on:{change:()=>this.changeHandle()},attrs:{list:this.list}}]),[this.$scopedSlots.default?this.$scopedSlots.default(this.list):this.list.map(t=>e("div",{class:"list-group-item"},[e("div",{class:"file-item file-name text-ellipsis"},[t.name,"："]),e("div",{class:"file-item ht-invoice-sample-class text-ellipsis"},["[",t.sampleData||t.name,"]"])]))])])}},void 0,void 0,!1,null,null,null);ne.options.__file="packages/custom-invoice/src/components/alternative-files.vue";var oe=ne.exports,re=f({props:{templateData:{type:Array,required:!0}},data:()=>({useTemplateData:[]}),computed:{...Object(N.mapGetters)(["headerData"])},watch:{templateData:{immediate:!0,handler(e){this.useTemplateData=e}}},methods:{handleTemplateChange(e){this.$emit("change",e)}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-edit-header"},[e(oe,se()([{},{on:this.$listeners},{},{attrs:this.$attrs},{attrs:{group:"header",list:this.useTemplateData},scopedSlots:{default:t=>t.length?t.map(t=>e("div",{class:`list-group-item item-flex-${t.width}`},[e("div",{class:"file-item file-name text-ellipsis"},[t.name,"："]),e("div",{class:`file-item ${"signature"===t.type?"signature-file":""} ht-invoice-sample-class text-ellipsis`},["signature"===t.type?"":`[${this.headerData[t.file]}]`])])):e("div",{class:"no-data"},["拖拽页头页尾部字段设置"])}}]))])}},void 0,void 0,!1,null,null,null);re.options.__file="packages/custom-invoice/src/components/invoice-edit-header.vue";var le=re.exports,ue=i(17),ce=i.n(ue),pe=f({props:{soureFile:{type:String,required:!0},templateData:{type:Array,required:!0}},data(){return{debounceHandleTemplateChange:_()(100,this.handleTemplateChange),useTemplateData:[]}},computed:{...Object(N.mapGetters)(["bodysData"]),detail(){return this.bodysData[this.soureFile][0]?this.bodysData[this.soureFile][0]:{}}},watch:{templateData:{immediate:!0,handler(e){this.useTemplateData=e}}},methods:{handleTemplateChange(e){this.$emit("change",e)},handleChangeWidth(e,t){t.width=e,this.debounceHandleTemplateChange(this.templateData)}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-edit-body"},[e(oe,se()([{attrs:{group:`body${this.soureFile}`,handle:".dragghandle",list:this.useTemplateData}},{on:this.$listeners},{},{attrs:this.$attrs},{scopedSlots:{default:t=>t.length?t.map(t=>e(ce.a,{attrs:{width:t.width},on:{"change-width":e=>this.handleChangeWidth(e,t)},class:"list-group-item",style:{width:`${t.width}px`}},[e("div",{class:"dragghandle"},[e("div",{class:"file-item file-name text-ellipsis",attrs:{title:t.name}},[t.name]),e("div",{class:"file-item ht-invoice-sample-class text-ellipsis",attrs:{title:this.detail[t.file]}},["[",this.detail[t.file],"]"])])])):e("div",{class:"no-data"},["拖拽标题列数据设置表格"])}}]))])}},void 0,void 0,!1,null,null,null);pe.options.__file="packages/custom-invoice/src/components/invoice-edit-body.vue";var he=pe.exports,de=i(18),me=i.n(de),ge=f({props:{showSample:Boolean,templateData:{type:Array,required:!0}},computed:{...Object(N.mapGetters)(["headerData"]),formatTemplateData(){return this.templateData.map(e=>{const t={...e};if(this.showSample)"signature"===t.type?t.formatter=()=>"":t.formatter=e=>`[${e}]`;else switch(t.type){case"date":t.formatter=Q.dateFormat;break;case"uppercase":t.formatter=me.a;break;case"areaNames":t.formatter=e=>e.join("");break;case"signature":t.formatter=()=>"";break;default:t.formatter=e=>e}return t})}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-tem-header"},[e("div",{class:"ht-invoice-draggable-group"},[this.formatTemplateData.map(t=>e("div",{class:`list-group-item item-flex-${t.width}`},[e("div",{class:"file-item file-name"},[t.name,"："]),e("div",{class:`file-item ${this.showSample?"ht-invoice-sample-class":""} ${"signature"===t.type?"signature-file":""} text-ellipsis`},[t.formatter(this.headerData[t.file])])]))])])}},void 0,void 0,!1,null,null,null);ge.options.__file="packages/custom-invoice/src/components/invoice-tem-header.vue";var fe=ge.exports,ve=f({props:{showSample:Boolean,templateData:{type:Array,required:!0},data:{type:Array,required:!0}},computed:{columns(){return this.templateData.map(e=>{let t;if(this.showSample)t=e=>`[${e}]`;else switch(e.type){case"index":t=(e,t,i)=>i+1;break;case"date":t=(e,t,i)=>i}return{...e,formatter:t}})}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-tem-body"},[e("el-table",{attrs:{data:this.data,border:!0,"row-class-name":this.showSample?"ht-invoice-sample-class":"","tooltip-effect":"dark",size:"mini"}},[this.columns.map(t=>e("el-table-column",{key:t.key||t.prop,attrs:{label:t.name,prop:t.file,width:t.width,align:t.align,"show-overflow-tooltip":!0},scopedSlots:{default:({row:e,$index:i})=>t.formatter?t.formatter(e[t.file],e,i):e[t.file]}}))])])}},void 0,void 0,!1,null,null,null);ve.options.__file="packages/custom-invoice/src/components/invoice-tem-body.vue";var be=ve.exports,ye=f({computed:{...Object(N.mapState)(["invoice"]),...Object(N.mapGetters)(["altHeaderFiles","altBodyFiles"]),disInvoiceName:{get(){return this.invoice.name},set(e){this.changeInvoiceName(e.replace(/ /g,""))}}},methods:{...Object(N.mapMutations)(["changeInvoiceName"])},render(){const e=arguments[0];return e("div",{class:"ht-invoice-alternative flex-container column-flex"},[e("div",{class:"page-container"},[e("div",{class:"page-title"},["模版名称"]),e(z.a,{class:"form-value",attrs:{size:"mini"},model:{value:this.disInvoiceName,callback:e=>{this.disInvoiceName=e}}})]),e("div",{class:"page-title"},[e("span",["打印内容"]),e("span",{class:"color-gray"},["（拖拽到画布中）"])]),e("div",{class:"ht-invoice-alternative-box auto-block flex-container column-flex"},[e("div",{class:"sub-title"},[" · 页头页尾独立字段"]),e(oe,{attrs:{group:"header",list:this.altHeaderFiles},class:"auto-block"})]),this.altBodyFiles.map(t=>e("div",{class:"ht-invoice-alternative-box auto-block flex-container column-flex"},[e("div",{class:"sub-title"},[" · ",t.tableName,"标题列数据"]),e(oe,{class:"auto-block",attrs:{group:`body${t.soureFile}`,list:t.content}})]))])}},void 0,void 0,!1,null,null,null);ye.options.__file="packages/custom-invoice/src/invoice-alternative.vue";var xe=ye.exports,we=f({data:()=>({isShowEditBody:!0}),computed:{...Object(N.mapState)(["invoice"]),...Object(N.mapGetters)(["templateHeader","templateBody","templateFooter","bodysData"])},methods:{...Object(N.mapMutations)(["changeTemplateHeader","changeTemplateFooter","changeTemplateBody"]),bodyChange(e,t){let i=[...this.templateBody];i.find(t=>t.soureFile===e).content=t,this.changeTemplateBody(i)},headerChange(e){this.changeTemplateHeader(e)},footerChange(e){this.changeTemplateFooter(e)}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-edit-warp"},[e("div",{class:"ht-invoice-edit-box"},[e("div",{class:"ht-invoice-edit-content-box"},[e("div",{class:"ht-invoice-edit-content"},[e(Z,{attrs:{showSample:!0}}),e(le,{attrs:{templateData:this.templateHeader},on:{change:this.headerChange}}),e("div",{class:"ht-invoice-body-box"},[this.templateBody.map((t,i)=>this.bodysData[t.soureFile]&&e("div",{class:"ht-invoice-body-block"},[t.tableName&&e("div",{class:"ht-invoice-table-name"},[`${ee[i+1]}、${t.tableName}`]),e(he,{attrs:{soureFile:t.soureFile,templateData:t.content},on:{change:e=>this.bodyChange(t.soureFile,e)}})]))]),e(le,{attrs:{templateData:this.templateFooter},on:{change:this.footerChange}}),e(ie)])])])])}},void 0,void 0,!1,null,null,null);we.options.__file="packages/custom-invoice/src/invoice-edit-warp.vue";var _e=we.exports,Se=f({name:"HtCustomInvoice",componentName:"HtCustomInvoice",props:{typeEmun:Object,temData:{type:Object,required:!0},baseFiles:{type:Object,required:!0}},computed:{...Object(N.mapState)(["invoice"]),...Object(N.mapGetters)(["templateHeader","templateBody","templateFooter"])},watch:{baseFiles:{immediate:!0,handler(){this.$nextTick(()=>{this.initData()})}},temData(){this.setTemDataSource(this.temData)}},beforeCreate(){this.$store=new H.a.Store({...X})},methods:{...Object(N.mapActions)(["initStoreData"]),...Object(N.mapMutations)(["setTemDataSource"]),initData(){this.initStoreData({typeEmun:this.typeEmun,baseFiles:this.baseFiles,temData:this.temData})},saveAll(){this.$emit("template-change",{...this.invoice,content:JSON.stringify({templateHeader:this.templateHeader.map(e=>({name:e.name})),templateBody:this.templateBody.map(e=>({...e,content:e.content.map(e=>({name:e.name,width:e.width}))})),templateFooter:this.templateFooter.map(e=>({name:e.name}))})})}},render(){const e=arguments[0];return e(V.a,{class:"full-height full-width ht-trashzone",attrs:{group:{name:"trash",draggable:".dropitem",put:()=>!0,pull:!1},handle:".no-trash-handle"}},[e("div",{class:"flex-container ht-custom-invoice"},[e(xe),e("div",{class:"flex-container column-flex invoice-warp-content"},[e("div",{class:"button-group"},[e("a",{class:"link",on:{click:this.initData}},[e("i",{class:"el-icon-refresh"}),"  还原"]),"  ",e("a",{class:"link",on:{click:this.saveAll}},[e("i",{class:"el-icon-document-checked"}),"  保存"])]),e(_e,{class:"auto-block"})])])])}},void 0,void 0,!1,null,null,null);Se.options.__file="packages/custom-invoice/src/custom-invoice.vue";var Te=Se.exports;Te.install=function(e){e.component(Te.name,Te)};var Ce=Te,$e=f({name:"HtTemInvoice",componentName:"HtTemInvoice",props:{showSample:Boolean,typeEmun:Object,temData:{type:Object,required:!0},baseFiles:{type:Object,required:!0},invoiceData:{type:Object}},computed:{...Object(N.mapState)(["invoice"]),...Object(N.mapGetters)(["templateHeader","templateBody","templateFooter","bodysData"])},watch:{baseFiles:{immediate:!0,handler(){this.$nextTick(()=>{this.initData()})}},temData(){this.setTemDataSource(this.temData)},invoiceData(){this.setDataSource(this.invoiceData)}},created(){this.$store=new H.a.Store({...J})},methods:{...Object(N.mapActions)(["initStoreData"]),...Object(N.mapMutations)(["setTemDataSource","setDataSource"]),initData(){this.initStoreData({typeEmun:this.typeEmun,baseFiles:this.baseFiles,temData:this.temData,showSample:this.showSample,invoiceData:this.invoiceData})}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-tem-warp"},[e("div",{class:"ht-invoice-tem-content"},[e(Z,{attrs:{showSample:this.showSample}}),e(fe,{attrs:{showSample:this.showSample,templateData:this.templateHeader}}),e("div",{class:"ht-invoice-body-box"},[this.templateBody.map((t,i)=>this.bodysData[t.soureFile]&&e("div",{class:"ht-invoice-body-block"},[t.tableName&&e("div",{class:"ht-invoice-table-name"},[`${ee[i+1]}、${t.tableName}`]),e(be,{attrs:{showSample:this.showSample,data:this.bodysData[t.soureFile],templateData:t.content}})]))]),e(fe,{attrs:{showSample:this.showSample,templateData:this.templateFooter}}),e(ie)])])}},void 0,void 0,!1,null,null,null);$e.options.__file="packages/custom-invoice/src/tem-invoice.vue";var ke=$e.exports;ke.install=function(e){e.component(ke.name,ke)};var De=ke,Ie=f({name:"HtResizeBox",componentName:"HtResizeBox",props:{minWidth:{type:Number,default:40},width:{type:Number},height:{type:Number}},computed:{resizeBoxRef(){return this.$refs.resizeBox},rightResizeSliderRef(){return this.$refs.rightResizeSlider}},mounted(){this.initRightListen()},methods:{initRightListen(){const e=this.rightResizeSliderRef,t=this.resizeBoxRef;e.onmousedown=i=>{const a=i.clientX,s=t.offsetWidth;document.onmousemove=e=>{e.clientX-a+s>this.minWidth&&this.$emit("change-width",e.clientX-a+s)},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,e.releaseCapture&&e.releaseCapture()},e.setCapture&&e.setCapture()}}},render(){const e=arguments[0];return e("div",{class:"ht-resize-box"},[e("div",{ref:"resizeBox",class:"resize-handle"},[this.$slots.default]),e("div",{class:"right-resize-slider",ref:"rightResizeSlider"})])}},void 0,void 0,!1,null,null,null);Ie.options.__file="packages/resize-box/src/resize-box.vue";var Fe=Ie.exports;Fe.install=function(e){e.component(Fe.name,Fe)};var Be=Fe,Ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-menu",{attrs:{"default-active":e.asideMenuActive,collapse:e.asideCollapse,"collapse-transition":!1,"unique-opened":!0}},e._l(e.menuList,(function(t,a){return i("sidebar-item",{key:a,attrs:{platformCounts:e.platformCounts,item:Object.assign({},t,{alwaysShow:!0}),"base-path":t.path,collapse:e.asideCollapse}})})),1)};Ee._withStripped=!0;var ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.hidden?e._e():i("div",{staticClass:"ht-menu-wrapper"},[!e.hasOneShowingChild(e.item.children,e.item)||e.onlyOneChild.children&&!e.onlyOneChild.noShowingChildren||e.item.alwaysShow?i("el-submenu",{ref:"subMenu",attrs:{index:e.resolvePath(e.item.path),"popper-append-to-body":""}},[i("template",{slot:"title"},[e.item.icon?i("div",{staticClass:"menu-block"},[i("i",{staticClass:"menu-icon",class:e.item.icon}),i("div",{staticClass:"menu-title"},[e._v("\n                    "+e._s(e.shortName)+"\n                ")])]):i("span",{attrs:{slot:"title"},slot:"title"},[e._v("\n                "+e._s(e.item.meta.title||e.item.name)+"\n            ")])]),e._l(e.item.children,(function(t){return i("sidebar-item",{key:t.key||t.path,staticClass:"nest-menu",attrs:{"is-nest":!0,item:t,"base-path":e.resolvePath(t.path)}})}))],2):[i("app-link",{attrs:{to:e.resolvePath(e.onlyOneChild.path)}},[i("el-menu-item",{class:{"submenu-title-noDropdown":!e.isNest},attrs:{index:e.resolvePath(e.onlyOneChild.path)}},[e.item.icon?i("div",{staticClass:"menu-block"},[i("i",{staticClass:"menu-icon",class:e.item.icon}),i("div",{staticClass:"menu-title"},[e._v("\n                        "+e._s(e.shortName)+"\n                    ")])]):e._e(),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    "+e._s(e.item.meta.title||e.item.name)+"\n                ")])])],1)]],2)};ze._withStripped=!0;var Oe=i(19),Ae=i.n(Oe),je=i(6),Ne=function(){var e=this.$createElement;return(this._self._c||e)("component",this._b({},"component",this.linkProps(this.to),!1),[this._t("default")],2)};Ne._withStripped=!0;var He=f({props:{to:{type:String,required:!0}},methods:{linkProps:e=>Object(je.isExternal)(e)?{is:"a",href:e,class:"link",target:"_blank",rel:"noopener"}:{is:"router-link",class:"link",to:e}}},Ne,[],!1,null,null,null);He.options.__file="packages/menu-aside/src/link.vue";var qe=f({name:"SidebarItem",components:{AppLink:He.exports},props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""},collapse:{type:Boolean,default:!1}},data(){return this.onlyOneChild=null,{}},computed:{shortName(){return(this.item.meta.title||this.item.name).substring(0,2)}},methods:{hasOneShowingChild(e=[],t){const i=e.filter(e=>!e.hidden&&(this.onlyOneChild=e,!0));return 1===i.length||0===i.length&&(this.onlyOneChild={...t,path:"",noShowingChildren:!0},!0)},resolvePath(e){return Object(je.isExternal)(e)?e:Object(je.isExternal)(this.basePath)?this.basePath:Ae.a.resolve(this.basePath,e)}}},ze,[],!1,null,null,null);qe.options.__file="packages/menu-aside/src/sidebar-item.vue";var Ve=f({name:"MenuAside",components:{SidebarItem:qe.exports},props:{asideCollapse:{type:Boolean,default:!0},menuList:{type:Array,required:!0}},data:()=>({platformCounts:{needs:"",center:""}}),computed:{asideMenuActive(){return this.$route.meta&&this.$route.meta.selectedPath||this.$route.path}}},Ee,[],!1,null,null,null);Ve.options.__file="packages/menu-aside/src/sidebar.vue";var Pe=Ve.exports,Le=f({name:"HtMenuAside",componentName:"HtMenuAside",props:{menuList:{type:Array,required:!0}},render(){const e=arguments[0];return e("div",{class:"ht-aside-box"},[e("div",{class:"ht-menu-logo-container"},[e("el-row",{style:"height: 60px;"},[e("el-col",{attrs:{span:18}},[e("span",{class:"menu-logo",style:"margin: 16px 0 0 18px;"},[e("span",{class:"icon icon-img-logo-menu"})])])])]),e("div",{class:"ht-menu-list-box"},[e("div",[e(Pe,{attrs:{"menu-list":this.menuList}})])])])}},void 0,void 0,!1,null,null,null);Le.options.__file="packages/menu-aside/src/menu-aside.vue";var Me=Le.exports;Me.install=function(e){e.component(Me.name,Me)};var We=Me,Re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("ul",{ref:"elTabs",class:{"ht-tags-container":!0,"full-container":e.moreTags.length}},[e._l(e.showTags,(function(t){return i("li",{key:t.name,class:{tag:!0,active:e.routeName===t.name},style:{minWidth:e.tagWidth+"px"}},[i("span",{staticClass:"tag-link",on:{click:function(i){return e.routeChange(t)}}},[e._v(e._s(t.meta&&(t.meta.tagName||t.meta.title)||t.name)+" ")]),e.viewTags.includes(t)?i("span",{staticClass:"tag-icon",on:{click:function(i){return i.stopPropagation(),e.closeTag(t.name)}}},[i("i",{staticClass:"el-icon-close"})]):e._e()])})),i("li",{staticClass:"tag dropdown-tag"},[i("el-dropdown",{attrs:{size:"small"}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-caret-bottom"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.tagsMenus,(function(t){return i("el-dropdown-item",{key:t.command,staticClass:"ht-tag-dropdown-menu",attrs:{command:t}},[i("span",{staticClass:"tag-link",on:{click:function(i){return e.handleMenuClick(t)}}},[e._v(e._s(t.name))])])})),e.moreTags.length?i("el-dropdown-item",{attrs:{divided:""}}):e._e(),e._l([].concat(e.moreTags),(function(t){return i("el-dropdown-item",{key:t.name,staticClass:"ht-tag-dropdown-menu",attrs:{command:t}},[i("span",{staticClass:"tag-link",on:{click:function(i){return e.routeChange(t)}}},[e._v(e._s(t.meta&&(t.meta.tagName||t.meta.title)||t.name))]),i("span",{staticClass:"tag-icon",on:{click:function(i){return i.stopPropagation(),e.closeTag(t.name)}}},[i("i",{staticClass:"el-icon-close"})])])}))],2)],1)],1)],2)])};let Ue,Ge;Re._withStripped=!0,L.a.use(H.a);const Ke={async addTag({state:e,commit:t},i){if(Ge.find(e=>e.name===i.name))return;let a=[...e.viewTags,...e.moreTags];const s=a.findIndex(e=>e.name===i.name);s>=0?e.maxLength<s+1+Ge.length?(a.splice(s,1),a.unshift(i)):a.splice(s,1,i):a.unshift(i),await t("updateTags",a)},async closeTag({state:e,commit:t},i){let a=[...e.viewTags,...e.moreTags];const{currentRoute:s}=Ue;if(a=a.filter(e=>e.name!==i),s.name===i)if(a.length){const e=a[0];Ue.push({path:e.path,query:{...e.query}})}else Ue.push("/");await t("updateTags",a)},async closeTagByType({state:e,commit:t},i){let a=[...e.viewTags,...e.moreTags];switch(i.type){case"otherClose":a=a.filter(e=>e.name===i.name);break;case"allClose":a=[],Ue.push("/")}await t("updateTags",a)},async changeMaxTagsByWidth({state:e,commit:t},i){const a=Math.floor((i.width-30)/e.tagWidth),s=[...e.viewTags,...e.moreTags],n=s.findIndex(e=>e.name===i.routeName);n>=0&&a<n+1+Ge.length&&s.unshift(...s.splice(n,1)),e.maxLength=a,await t("updateTags",s)},async initTagsData({commit:e},t){Ue=t.router,Ge=t.defaultTags||[];let i=t.flexibleTags;i=i.filter(e=>{const t=Ue.match(e.path);return!Ge.map(e=>e.name).includes(e.name)&&t&&t.matched&&t.matched.length}),await e("updateTags",i)},async clearTags({state:e,commit:t}){e.viewTags=[],e.moreTags=[],await t("updateTags")}},Xe={updateTags(e,t){const i=t||[...e.viewTags,...e.moreTags];e.viewTags=i.splice(0,e.maxLength-Ge.length),e.moreTags=i}};var Je=new H.a.Store({modules:{routeTags:{namespaced:!0,state:function(){return{tagWidth:140,maxLength:10,defaultTags:[],viewTags:[],moreTags:[]}},actions:Ke,mutations:Xe}}}),Qe=f({name:"HtTagsView",componentName:"HtTagsView",model:{prop:"value",event:"change"},props:{value:{type:Array,required:!0},defaultTags:{type:Array,default:()=>[]},menuList:{type:Array,required:!0}},store:Je,data(){return{debounceChangeMaxTags:_()(100,this.changeMaxTags),curTab:null,tagsMenus:[{command:"otherClose",name:"关闭其它"},{command:"allClose",name:"关闭所有"}]}},computed:{...Object(N.mapState)("routeTags",["viewTags","moreTags","tagWidth"]),flexibleTags(){return[...this.viewTags,...this.moreTags]},showTags(){return[...this.defaultTags,...this.viewTags]||!1},routeName(){return this.$route.name},asideMenuActive(){return this.$route.meta&&this.$route.meta.selectedPath||this.$route.path},baseMenus(){const e=[];return function t(i){i.forEach(i=>{i.children?t(i.children):e.push(i)})}(this.menuList),e}},watch:{$route(){this.changeCurTag()},flexibleTags(e){this.$emit("change",e)}},created(){L.a.prototype.closePage=()=>{this.closeTag(this.$route.name)}},mounted(){this.initTagsData({defaultTags:this.defaultTags,router:this.$router,flexibleTags:this.value}),window.addEventListener("resize",this.debounceChangeMaxTags),"/"!==this.$route.fullPath&&this.changeCurTag(),this.$nextTick(()=>{this.changeMaxTags()})},beforeDestroy(){window.removeEventListener("resize",this.debounceChangeMaxTags)},methods:{...Object(N.mapActions)("routeTags",["addTag","closeTag","closeTagByType","changeMaxTagsByWidth","initTagsData"]),changeCurTag(){const e={name:this.$route.name,path:this.$route.path,query:this.$route.query||"",meta:this.$route.meta};this.addTag(e),this.$emit("cur-tag-change",e)},handleMenuClick(e){this.closeTagByType({type:e.command,name:this.routeName})},routeChange(e){this.$router.push({path:e.path,query:{...e.query}})},changeMaxTags(){this.$el&&this.changeMaxTagsByWidth({width:this.$el.offsetWidth,routeName:this.routeName})}}},Re,[],!1,null,null,null);Qe.options.__file="packages/tags-view/src/tags-view.vue";var Ye=Qe.exports;Ye.install=function(e){e.component(Ye.name,Ye)};var Ze=Ye;i(21);const et=[y,j,Ce,De,Be,We,Ze];"undefined"!=typeof window&&window.Vue&&Object(a.install)(window.Vue);t.default={...s.a,install:function(e){et.forEach(t=>{e.component(t.name,t)}),e.use(a.install)},Input:y,Autocomplete:j,CustomInvoice:Ce,TemInvoice:De,ResizeBox:Be,MenuAside:We,TagsView:Ze}}]).default}));
//# sourceMappingURL=hztl-ui.common.js.map